<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§é“åœ‹ä¸­ - åˆé¤è³‡è¨Šç¶²</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary-pink: #FFB6C1;
            --light-pink: #FFE4E9;
            --soft-yellow: #FFD700;
            --light-blue: #87CEFA;
            --lavender: #D8BFD8;
            --mint-green: #98FB98;
            --text-color: #333;
            --light-bg: #FFF0F5;
            --card-bg: #FFF;
            --border-radius: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'YuGothic', 'Hiragino Sans GB', sans-serif;
        }

        body {
            background-color: var(--light-bg);
            color: var(--text-color);
            line-height: 1.6;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="20" cy="20" r="5" fill="%23FFB6C1" opacity="0.2"/><circle cx="50" cy="50" r="8" fill="%2387CEFA" opacity="0.2"/><circle cx="80" cy="80" r="6" fill="%23FFD700" opacity="0.2"/></svg>');
            padding-top: 0;
         }

        /* é ‚éƒ¨è·‘é¦¬ç‡ˆ */
        .marquee-container {
            background: linear-gradient(135deg, var(--primary-pink), var(--lavender));
            padding: 12px 0;
            overflow: hidden;
            border-bottom: 3px solid white;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .marquee {
            display: inline-block;
            white-space: nowrap;
            animation: marquee 25s linear infinite;
            padding-left: 100%;
        }

        @keyframes marquee {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-100%, 0); }
        }

        /* å°è¦½åˆ— */
        nav {
            background: linear-gradient(135deg, var(--light-blue), var(--mint-green));
            padding: 15px 0;
            border-bottom: 3px solid white;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .nav-item {
            background-color: white;
            padding: 10px 20px;
            border-radius: 30px;
            text-decoration: none;
            color: var(--text-color);
            font-weight: bold;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .nav-item i {
            margin-right: 8px;
            color: var(--primary-pink);
        }

        .nav-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            background-color: var(--light-pink);
        }

        /* é¦–é èƒŒæ™¯èˆ‡å…§å®¹ */
        .homepage {
            min-height: 500px;
            background: url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1200&q=80') no-repeat center center;
            background-size: cover;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            text-align: center;
        }

        .homepage::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.7);
        }

        .school-name {
            font-size: 3rem;
            color: #D3A4FF;
            margin-bottom: 20px;
            position: relative;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .welcome-message {
            font-size: 1.5rem;
            margin-bottom: 40px;
            position: relative;
            color: #555;
        }

        .function-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            max-width: 1000px;
            width: 100%;
            position: relative;
        }

        .function-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .function-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }

        .function-card i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary-pink);
        }

        .function-card h3 {
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .function-card p {
            color: #666;
            font-size: 0.9rem;
        }

        /* é é¢å…§å®¹å€åŸŸ */
        .page-content {
            display: none;
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .page-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary-pink);
            font-size: 2.2rem;
            position: relative;
        }

        .page-title:after {
            content: "";
            display: block;
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-pink), var(--light-blue));
            margin: 10px auto;
            border-radius: 2px;
        }

        .vendor-section {
            background-color: #ffffff;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
        }
        
        .vendor-section h3 {
            font-size: 1.8rem;
            color: #4A4A4A;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
        }

        /* æ–°å¢çš„ PDF é è¦½å®¹å™¨æ¨£å¼ */
        .pdf-viewer-container {
            margin-top: 2rem;
            padding: 10px;
            border: 1px solid var(--light-pink);
            border-radius: var(--border-radius);
            background-color: #fffafa;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        .pdf-viewer-container iframe {
            width: 100%;
            min-height: 700px; /* è¨­ç½®ä¸€å€‹è¼ƒå¤§çš„é«˜åº¦ä»¥é¡¯ç¤ºå…§å®¹ */
            border: 1px solid #eee;
            border-radius: 8px;
            background-color: white;
        }

        /* ä¸Šå‚³å€åŸŸ */
        .upload-area {
            border: 3px dashed var(--light-blue);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            margin: 30px 0;
            background-color: rgba(135, 206, 250, 0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .upload-area:hover:not(.disabled) {
            background-color: rgba(135, 206, 250, 0.2);
            border-color: var(--primary-pink);
        }

        .upload-note {
            font-size: 0.9rem;
            color: #777;
            margin-top: 10px;
        }

        /* ç›¸ç°¿æ¨£å¼ */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .photo-item {
            height: 200px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .photo-item:hover img {
            transform: scale(1.1);
        }
        
        /* å» å•†èœå–®ä¸Šå‚³å€å¡Šçš„ç¦ç”¨æ¨£å¼ */
        .upload-area.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: all; /* å…è¨±é»æ“Šä»¥è§¸ç™¼ç™»å…¥/æç¤º */
        }
        .upload-area.disabled:hover {
            border-color: var(--light-blue); /* ç¦ç”¨ç‹€æ…‹ä¸‹ä¸è®Šè‰² */
        }


        /* å½±ç‰‡å®¹å™¨ */
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            margin: 20px 0;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* æª”æ¡ˆåˆ—è¡¨ */
        .file-list {
            margin: 20px 0;
        }

        .file-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: white;
            border-radius: 12px;
            margin-bottom: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.2s;
        }

        .file-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 12px rgba(0, 0, 0, 0.12);
        }

        .file-item i {
            margin-right: 15px;
            font-size: 1.8rem;
            color: var(--light-blue);
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .survey-button {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary-pink), var(--light-blue));
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.2rem;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            transition: all 0.3s;
        }

        .survey-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        /* æ–°å¢çš„ç™»å‡ºæŒ‰éˆ•æ¨£å¼ */
        .logout-btn {
            background: none !important;
            border: none !important;
            color: #777 !important;
            font-weight: normal !important;
            margin-left: 10px !important;
            cursor: pointer !important;
            text-decoration: underline !important;
            padding: 0 !important;
            margin: 0 0 0 10px !important;
            font-size: 1rem !important;
            transition: color 0.2s !important;
        }
        .logout-btn:hover {
             color: var(--primary-pink) !important;
             transform: none !important;
             box-shadow: none !important;
        }

        /* è£é£¾å…ƒç´  */
        .decoration {
            position: fixed;
            z-index: -1;
            opacity: 0.15;
            font-size: 5rem;
        }

        .rice-ball {
            top: 15%;
            left: 5%;
            transform: rotate(15deg);
        }

        .animal {
            bottom: 10%;
            right: 5%;
            transform: rotate(-10deg);
        }

        .curry-rice{
            bottom: 10%;
            right: 40%;
            transform: rotate(-10deg);
        }

        .koala{
            bottom: 10%;
            left: 60%;
            transform: rotate(20deg);
        }

        .sloth{
            bottom: 10%;
            right: 5%;
            transform: rotate(-40deg);
        }

        /* é å°¾ */
        footer {
            text-align: center;
            padding: 20px;
            color: #888;
            font-size: 0.8rem;
        }


        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .school-name {
                font-size: 2.2rem;
            }

            .welcome-message {
                font-size: 1.2rem;
            }

            .function-grid {
                grid-template-columns: 1fr;
            }

            .nav-container {
                flex-direction: column;
                align-items: center;
            }

            .nav-item {
                width: 80%;
                justify-content: center;
                margin-bottom: 8px;
            }

            .photo-gallery {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }

            .photo-item {
                height: 150px;
            }
            .pdf-viewer-container iframe {
                min-height: 500px;
            }
        }

        /* è‡ªè¨‚è¨Šæ¯è¦–çª—æ¨£å¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s, opacity 0.3s ease;
        }

        .modal-overlay.visible {
            visibility: visible;
            opacity: 1;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }

        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }

        .modal-content h3 {
            color: var(--primary-pink);
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .modal-content p {
            color: var(--text-color);
            margin-bottom: 25px;
        }

        .modal-content button {
            background: linear-gradient(135deg, var(--primary-pink), var(--light-blue));
            border: none;
            color: white;
            padding: 10px 25px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
            transition: transform 0.2s;
        }

        .modal-content button:hover {
            transform: translateY(-2px);
        }

        /* å…¬å‘Šå®¹å™¨æ ·å¼ */
        .announcements-container {
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
            margin-top: 30px;
            overflow: hidden;
        }

        /* å…¬å‘Šæ ‡é¢˜æ  */
        .announcement-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
        }

        .header-icon {
            width: 40px;
            height: 40px;
            background-color: #FFB6C1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .header-icon i {
            color: white;
            font-size: 1.2rem;
        }

        .announcement-header h3 {
            font-size: 1.5rem;
            color: #211e1e;
            margin: 0;
        }

        .header-decoration {
            flex-grow: 1;
            height: 2px;
            background: linear-gradient(90deg, #FFB6C1, transparent);
            margin-left: 15px;
        }

        /* å…¬å‘Šåˆ—è¡¨ */
        .announcement-list {
            margin-bottom: 15px;
        }

        /* å…¬å‘Šé … */
        .announcement-item {
            padding: 12px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px dashed #f0f0f0;
            transition: background-color 0.2s;
        }

        .announcement-item:last-child {
            border-bottom: none;
        }

        .announcement-item:hover {
            background-color: #FFF8F9;
        }

        .announcement-content {
            display: flex;
            align-items: center;
            max-width: 80%;
        }

        .announcement-dot {
            width: 8px;
            height: 8px;
            background-color: #FFB6C1;
            border-radius: 50%;
            margin-right: 10px;
            flex-shrink: 0;
        }

        .announcement-item span:first-of-type {
            color: #333;
            line-height: 1.5;
        }

        .announcement-date {
            color: #999;
            font-size: 0.9rem;
            white-space: nowrap;
            padding-left: 15px;
        }

        /* æŸ¥çœ‹æ›´å¤šæŒ‰éˆ• */
        .announcement-more {
            text-align: right;
            padding-top: 10px;
        }

        .more-link {
            color: #FFB6C1;
            text-decoration: none;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s;
        }

        .more-link:hover {
            color: #FF8FA3;
            transform: translateX(3px);
        }

        .more-link i {
            font-size: 0.8rem;
            margin-left: 5px;
            transition: transform 0.3s;
        }

        .more-link:hover i {
            transform: translateX(3px);
        }

        /* éŸ¿æ‡‰å¼èª¿æ•´ */
        @media (max-width: 768px) {
            .announcement-item {
                flex-direction: column;
                align-items: flex-start;
                padding: 15px 0;
            }
            
            .announcement-date {
                padding-left: 18px;
                margin-top: 5px;
                font-size: 0.8rem;
                color: #bbb;
            }
            
            .announcement-content {
                max-width: 100%;
            }
        }

        /* å» å•†èœå–®ç›¸é—œæ¨£å¼ */
        .file-input {
            display: none;
        }

        .login-status {
            text-align: right;
            margin-bottom: 20px;
            font-weight: bold;
            color: #555;
        }

        .login-form-group {
            margin-bottom: 15px;
            text-align: left;
        }
        .login-form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .login-form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        #loginError {
            color: #ff0000;
            display: none;
            margin-top: 10px;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="decoration rice-ball">ğŸ™</div>
    <div class="decoration animal">ğŸ°</div>
    <div class="decoration curry-rice">ğŸ›</div>
    <div class="decoration koala">ğŸ¨</div>
    <div class="decoration sloth">ğŸ¦¥</div>

    <div class="marquee-container">
        <div class="marquee">
            ğŸ‰ æ­¡è¿ä¾†åˆ°å¤§é“åœ‹ä¸­åˆé¤ç¶²ç«™ ğŸ‰ Â Â |Â Â 
           Â 
            ğŸŒŸ ç‡Ÿé¤Šå°çŸ¥è­˜ï¼šæ¯å¤©æ”å–äº”ç¨®ä¸åŒé¡è‰²çš„è”¬æœï¼Œå¥åº·æ»¿åˆ†ï¼ ğŸŒŸÙ©(â—•â€¿â—•)Û¶
        </div>
    </div>

    <nav>
        <div class="nav-container">
            <a href="#" class="nav-item" onclick="showPage('home')"><i class="fas fa-home"></i> é¦–é </a>
            <a href="#" class="nav-item" onclick="showPage('menu')"><i class="fas fa-utensils"></i> å» å•†èœå–®</a>
            <a href="#" class="nav-item" onclick="showPage('survey')"><i class="fas fa-clipboard-list"></i> æ»¿æ„åº¦èª¿æŸ¥</a>
            <a href="#" class="nav-item" onclick="showPage('gallery')"><i class="fas fa-camera"></i> æ´»å‹•ç…§ç‰‡</a>
            <a href="#" class="nav-item" onclick="showPage('education')"><i class="fas fa-apple-alt"></i> ç‡Ÿé¤Šæ•™è‚²</a>
            <a href="#" class="nav-item" onclick="showPage('subsidy')"><i class="fas fa-file-contract"></i> è£œåŠ©ç”³è«‹</a>
            <a href="#" class="nav-item" onclick="showPage('finance')"><i class="fas fa-calculator"></i> æ”¶æ”¯çµç®—</a>
            <a href="#" class="nav-item" onclick="showPage('lunch-coupon')"><i class="fas fa-ticket-alt"></i> å®‰å¿ƒåˆé¤åˆ¸</a>
        </div>
    </nav>

    <div id="home" class="page-content">
        <div class="homepage">
            <h1 class="school-name">å¤§é“åœ‹ä¸­ (Â´ï½¡â€¢ áµ• â€¢ï½¡`)</h1>
            <p class="welcome-message">æ­¡è¿ä½¿ç”¨åˆé¤è³‡è¨Šç³»çµ±ï¼Œè«‹é¸æ“‡æ‚¨éœ€è¦çš„æœå‹™Ù©ê’°ï½¡â€¢â—¡â€¢ï½¡ê’±Û¶</p>
            <div class="function-grid">
                <div class="function-card" onclick="showPage('menu')">
                    <i class="fas fa-utensils"></i>
                    <h3>å» å•†èœå–®</h3>
					<p>æä¾›æœ€æ–°çš„å­¸æ ¡åˆé¤èœå–®ï¼Œè®“å®¶é•·å’Œå­¸ç”Ÿäº†è§£æ¯æ—¥ç‡Ÿé¤Šæ”å–ç‹€æ³(*^â–½^*)ã€‚</p>
                    <p>æŸ¥çœ‹æ¯æ—¥ç‡Ÿé¤Šåˆé¤èœå–®èˆ‡ç†±é‡è³‡è¨Š</p>
                </div>
                <div class="function-card" onclick="showPage('survey')">
                    <i class="fas fa-clipboard-list"></i>
                    <h3>æ»¿æ„åº¦èª¿æŸ¥</h3>
                    <p>è«‹é»æ“Šä¸‹æ–¹æŒ‰éˆ•å¡«å¯«æœ¬é€±çš„åˆé¤æ»¿æ„åº¦å•å·ï¼Œæ‚¨çš„æ„è¦‹å°æˆ‘å€‘éå¸¸é‡è¦ï¼çš„åˆé¤æ»¿æ„åº¦å•å·ï¼Œæ‚¨çš„æ„è¦‹å°æˆ‘å€‘éå¸¸é‡è¦ï¼ à¸…^â€¢Ï‰â€¢^à¸…</p>
                </div>
                <div class="function-card" onclick="showPage('gallery')">
                    <i class="fas fa-camera"></i>
                    <h3>æ´»å‹•ç…§ç‰‡</h3>
                    <p>ç€è¦½åˆé¤ç›¸é—œæ´»å‹•çš„ç²¾å½©ç…§ç‰‡ à«®ê’°Ë¶à¸…ÌË˜à¸…Ì€Ë¶ê’±áƒ</p>
                </div>
                <div class="function-card" onclick="showPage('education')">
                    <i class="fas fa-apple-alt"></i>
                    <h3>ç‡Ÿé¤Šæ•™è‚²</h3>
                    <p>å­¸ç¿’å‡è¡¡é£²é£Ÿèˆ‡ç‡Ÿé¤ŠçŸ¥è­˜ à«®ê’° Ë¶â€¢ à¼ â€¢Ë¶ê’±áƒ</p>
                </div>
                <div class="function-card" onclick="showPage('subsidy')">
                    <i class="fas fa-file-contract"></i>
                    <h3>è£œåŠ©ç”³è«‹</h3>
                    <p>ä¸‹è¼‰èˆ‡ä¸Šå‚³åˆé¤è£œåŠ©ç”³è«‹æ–‡ä»¶</p>
                </div>
                <div class="function-card" onclick="showPage('finance')">
                    <i class="fas fa-calculator"></i>
                    <h3>æ”¶æ”¯çµç®—</h3>
                    <p>æŸ¥çœ‹åˆé¤ç¶“è²»æ”¶æ”¯çµç®—è¡¨</p>
                </div>
                <div class="function-card" onclick="showPage('lunch-coupon')">
                    <i class="fas fa-ticket-alt"></i>
                    <h3>å®‰å¿ƒåˆé¤åˆ¸</h3>
                    <p>ä¸‹è¼‰èˆ‡ç®¡ç†åˆé¤åˆ¸ç›¸é—œæ–‡ä»¶</p>
                </div>
				
            </div>
        </div>
	 <footer style="text-align: center; padding: 20px; margin-top: 30px; border-top: 1px solid #eee;">
              Â© 2025 å¤§é“åœ‹ä¸­åˆé¤è³‡è¨Šç¶² ç‰ˆæ¬Šæ‰€æœ‰         æ ¡å€ï¼š43252/432311 è‡ºä¸­å¸‚å¤§è‚šå€å¤§æ±é‡Œä»å¾·è·¯60è™Ÿ              é›»è©±ï¼š04-26992028
         </footer>
           
        </div>
		 
    </div>
        
     

    <div id="menu" class="page-content">
        <div class="login-status">
            <span id="loginInfo">æœªç™»éŒ„</span>
            <button id="logoutBtn" class="logout-btn" style="display: none;" onclick="logout()">é€€å‡ºç™»éŒ„</button>
        </div>
        
        <h2 class="page-title"><i class="fas fa-utensils"></i> å» å•†èœå–® Ô…(Â¯ï¹ƒÂ¯Ô…)</h2>
       <center>
        
      
<center>
            <a href="https://drive.google.com/drive/folders/1wVh5kHPUdizHYu4l_NrJbJqprDwDW6nx?usp=drive_link" class="survey-button" target="_blank">
                <i class="fas fa-pencil-alt"></i> é»æ“Šæ­¤è™•æŸ¥çœ‹æœ‰ä»€éº¼å¥½åƒçš„èœè‰²å§!(*à¸…ÌË˜à¸…Ì€*)
            </a>
       

    </div>
          
   <div id="survey" class="page-content">
    <h2 class="page-title">åˆé¤æ»¿æ„åº¦èª¿æŸ¥</h2>
    <center>
        <p></p>
        <a href="https://drive.google.com/drive/folders/13kufycRg2lY25sgKWWdC-NSdTV5qaTwu" class="survey-button" target="_blank">
            <i class="fas fa-pencil-alt"></i> é»æ“Šæ­¤è™•å¡«æŒ‰éˆ•å¡«å¯«æœ¬é€±çš„åˆé¤æ»¿æ„åº¦å•å·ï¼Œæ‚¨çš„æ„è¦‹å°æˆ‘å€‘éå¸¸é‡è¦ï¼ à¸…^â€¢Ï‰â€¢^à¸…
        </a>
        
    </center>
</div>

    
<div id="gallery" class="page-content">
    <h2 class="page-title"><i class="fas fa-camera"></i> æ´»å‹•ç…§ç‰‡</h2>
    
    <div id="gallery-controls" class="text-center" style="margin-bottom: 20px;">
        <div id="gallery-login-prompt">
           
        </div>
        <div id="gallery-logged-in-info" style="display:none; text-align: right; font-weight: bold; color: var(--primary-pink);">
            <span id="gallery-login-info"></span>
            <button id="gallery-logout-btn" class="logout-btn" onclick="logout()">
                é€€å‡ºç™»å…¥
            </button>
        </div>
    </div>
    
    <div id="photo-upload-area" style="display:none; margin-bottom: 30px;" onclick="document.getElementById('photo-file-input').click()">
        <div class="upload-area" id="photo-drop-area" style="cursor: pointer;">
            <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: var(--primary-pink);"></i>
            <h3>æ‹–æ›³ç…§ç‰‡è‡³æ­¤ä¸Šå‚³</h3>
            <p class="text-gray-500 mt-2">æˆ–é»æ“Šæ­¤è™•é¸æ“‡æª”æ¡ˆ (åƒ…é™åœ–ç‰‡ï¼Œå¯å¤šé¸)</p>
            <input type="file" class="file-input" id="photo-file-input" accept="image/*" multiple style="display: none;">
        </div>
        <div id="photo-upload-status" class="text-center mt-4 font-semibold text-green-600" style="display:none;"></div>
	    </div>
<center>
            <a href="https://drive.google.com/drive/folders/173o7e_EYtPAbtvQUXeAgdmRoPKVOv4SJ?usp=drive_link" class="survey-button" target="_blank">
                <i class="fas fa-pencil-alt"></i> é»æ“Šæ­¤è™•ä¾†æŸ¥çœ‹å¯æ„›çš„åŒå­¸åƒèˆ‡äº†å“ªäº›ç…§ç‰‡å§!	(á—’â©Šá—•)
            </a>
        </center>
    <div id="photo-display-area">
        
    </div>
</div>
<div id="education" class="page-content">
    <h2 class="page-title">ç‡Ÿé¤Šæ•™è‚²</h2>
    <h3>â˜…é£Ÿè¾²æ•™è‚²æ¨å»£å½±ç‰‡â˜…</h3> 
    <div class="video-container"> 
       <iframe width="560" height="315" src="https://www.youtube.com/embed/YgOjNIREoUk?si=iPOxMRU97hogKxye" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div> 
    <h3>â˜…å¥¶ç²¾åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿå–æ—©é¤åº—å¤§å†°å¥¶æœƒæ‹‰è‚šå­ï¼Œæ˜¯å¥¶ç²¾å®³çš„å—ï¼Ÿâ˜…</h3> 
    <div class="video-container"> 
        <iframe width="560" height="315" src="https://www.youtube.com/embed/FRCth5C6wvo?si=aXzVrkExEu1GiyIB" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> 
    </div> 
    <h3>â˜…å‘³ç²¾æ›¾æ˜¯æœ€æ½®çš„èª¿å‘³æ–™ï¼Œç‚ºä½•å»è·Œè½ç¥å£‡ï¼Ÿé®®å‘³èƒŒå¾Œçš„èº«ä¸–ï¼Œå¯èƒ½æ¯”ä½ æƒ³çš„æ›´æ›²æŠ˜ï¼â˜…</h3> 
    <div class="video-container"> 
        <iframe width="560" height="315" src="https://www.youtube.com/embed/wF7UdCb1RnA?si=qydaCns_nfHgPDdU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> 
    </div> 
    <h3>â˜…é­”èŠ‹çˆ½æ˜¯ç”šéº¼ï¼Ÿæˆåˆ†å¤§æ­ç§˜ï¼â˜…</h3> 
    <div class="video-container"> 
        <iframe width="560" height="315" src="https://www.youtube.com/embed/4dvV6f6CgzY?si=m766DFz1dmsu7p2X" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> 
    </div> 
    <h3>â˜…æ³¨æ„å¥½XXå¶çˆ¾åƒä¸å±éšª?!åƒæ³¡éºµæœƒæ€æ¨£â˜…</h3> 
    <div class="video-container"> 
        <iframe width="560" height="315" src="https://www.youtube.com/embed/mb2cW96Jae8?si=Y6pV2Wa_X22IBUSl" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> 
    </div> 

    <h3>â˜…é£Ÿåœ¨å¥½ç‡Ÿé¤Šâ”€æˆ‘çš„é¤ç›¤é¡§å¥åº·â˜…</h3>
    <div class="video-container">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/aGwvoohnZ4A" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>
    
    <h3>â˜…æˆ‘çš„é¤ç›¤å‡è¡¡é£²é£Ÿè¡›æ•™å½±ç‰‡ï¼šä»‹ç´¹æˆ‘çš„é¤ç›¤â˜…</h3>
    <div class="video-container">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/lKbiRaWnQbs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>
    
    <h3>â˜…é£²é£Ÿç‡Ÿé¤Š-å¥åº·é£²é£Ÿâ˜…</h3>
    <div class="video-container">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/xOjs2H_nO64" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>
    
    <h3>â˜…æˆ‘çš„é¤ç›¤å‡è¡¡é£²é£Ÿè¡›æ•™å½±ç‰‡ï¼šè‡ªåŠ©é¤é€™æ¨£åƒç‡Ÿé¤Šåˆå‡è¡¡â˜…</h3>
    <div class="video-container">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/YVO2-GYg2lw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>

    <h3>â˜…ä»¥ä¸­æ–‡å‘ˆç¾å¥åº·é£²é£Ÿ(å°ç£)â˜…</h3>
    <div class="video-container">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/vhPtTAXwcIs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>
    <center> 
        <a href="https://drive.google.com/drive/folders/1p3fRv2eCKhkEVs-jCCLFEHezaZtmxMeI?usp=sharing" class="survey-button" target="_blank"> 
            <i class="fas fa-pencil-alt"></i> é›²ç«¯è³‡æ–™ä¸‹è¼‰è™• 
        </a> 
    </center> 
</div>

<div id="subsidy" class="page-content">
    <h2 class="page-title">è£œåŠ©ç”³è«‹</h2>
    
    <div class="file-list">
        </div>
        
    <center>
        <a href="https://drive.google.com/drive/folders/1p3fRv2eCKhkEVs-jCCLFEHezaZtmxMeI?usp=sharing" class="survey-button" target="_blank">
            <i class="fas fa-pencil-alt"></i> é›²ç«¯è³‡æ–™ä¸‹è¼‰è™•
        </a>
    </center>
</div>

<div id="finance" class="page-content">
    <h2 class="page-title">æ”¶æ”¯çµç®—</h2>
    
    <center>
        <a href="https://drive.google.com/drive/folders/1Fula7_MZmLCaXtOFc0_kERu71YJ-dG9X?usp=drive_link" class="survey-button" target="_blank">
            <i class="fas fa-pencil-alt"></i> é»æ“Šæ­¤è™•æŸ¥çœ‹æ”¶æ”¯é ç®—å§!
        </a>
    </center>
</div>

<div id="lunch-coupon" class="page-content">
    <h2 class="page-title">å®‰å¿ƒåˆé¤åˆ¸</h2>
   <center>
        <a href="https://drive.google.com/drive/folders/1dDle9P5LmYmTf6klr3urxJHM6dAeOuZD?usp=drive_link" class="survey-button" target="_blank">
            <i class="fas fa-pencil-alt"></i>é»æ“Šæ­¤è™•æŸ¥ç”³è«‹å®‰å¿ƒåˆé¤åˆ¸å§!ãƒ½(*âŒ’â–½âŒ’*)ï¾‰
        </a>
    </center>
	
	<div style="margin-top: 20px;">
         
     </a>
  </div>
    
	

<div id="loginModal" class="modal-overlay">
    <div class="modal-content">
        <h3>ç®¡ç†å“¡ç™»éŒ„</h3>
        <div class="login-form">
            <div class="login-form-group">
                <label for="username">ç”¨æˆ¶å</label>
                <input type="text" id="username" placeholder="è«‹è¼¸å…¥ç”¨æˆ¶å">
            </div>
            <div class="login-form-group">
                <label for="password">å¯†ç¢¼</label>
                <input type="password" id="password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
            </div>
            <div id="loginError">
                 ç”¨æˆ¶åæˆ–å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹é‡æ–°è¼¸å…¥ 
            </div>
            <button onclick="checkLogin()">ç™»éŒ„</button>
        </div>
    </div>
</div>

<script>
    // é é¢åˆ‡æ›åŠŸèƒ½
    let currentPage = 'home'; // è¿½è¹¤ç•¶å‰é é¢ï¼Œç”¨æ–¼ç™»éŒ„å¾Œè¿”å›
    function showPage(pageId) {
        // éš±è—æ‰€æœ‰é é¢
        document.querySelectorAll('.page-content').forEach(page => {
            page.style.display = 'none';
        });
        // é¡¯ç¤ºé¸ä¸­çš„é é¢
        document.getElementById(pageId).style.display = 'block';
        currentPage = pageId; // æ›´æ–°ç•¶å‰é é¢
        
        // å¦‚æœé¡¯ç¤ºçš„æ˜¯èœå–®é é¢ï¼Œæ›´æ–°ç™»å…¥ç‹€æ…‹é¡¯ç¤º
        if (pageId === 'menu') {
            updateMenuPageVisibility();
        }
        
        // å¦‚æœé¡¯ç¤ºçš„æ˜¯ç›¸ç°¿é é¢ï¼Œæ›´æ–°ç™»å…¥/ä¸Šå‚³ç‹€æ…‹
        if (pageId === 'gallery') {
            updateGalleryPageVisibility();
        }
    }

    // åˆå§‹é¡¯ç¤ºé¦–é 
    document.addEventListener('DOMContentLoaded', function() {
        showPage('home');
        initLoginState();
        setupUploaders();
        setupPhotoUploader(); 
        loadSavedData();
    });

    // ç™»éŒ„ç›¸é—œè®Šé‡å’Œå‡½æ•¸
    let isLoggedIn = false; 
    let currentUser = null; 
    let currentVendorId = null; 
    
    // å» å•†åŠç®¡ç†å“¡å¸³è™Ÿè³‡è¨Š (å¯¦éš›æ‡‰ç”¨ä¸­æ‡‰å¾æœå‹™å™¨é©—è­‰)
    const vendorAccounts = [
        { id: 0, username: 'admin', password: 'admin123', name: 'ç¸½ç®¡ç†å“¡' }, // ç¸½ç®¡ç†å“¡
        { id: 1, username: 'yumei', password: 'yumei123', name: 'ç‰ç¾ç®¡ç†å“¡' },
        { id: 2, username: 'xianghaojia', password: 'xianghaojia123', name: 'é¦™è±ªä½³ç®¡ç†å“¡' },
        { id: 3, username: 'jieda', password: 'jieda123', name: 'æ½”é”ç®¡ç†å“¡' }
    ];
    
    function showLoginModal() {
        document.getElementById('loginModal').classList.add('visible');
        document.getElementById('username').value = '';
        document.getElementById('password').value = '';
        document.getElementById('loginError').style.display = 'none';
    }

    // ç™»å…¥æª¢æŸ¥
    function checkLogin() {
        const usernameInput = document.getElementById('username').value;
        const passwordInput = document.getElementById('password').value;
        const errorDiv = document.getElementById('loginError');

        const user = vendorAccounts.find(account => 
            account.username === usernameInput && account.password === passwordInput
        );

        if (user) {
            isLoggedIn = true;
            currentUser = user;
            currentVendorId = user.id;
            
            // å°‡ç™»å…¥ç‹€æ…‹å„²å­˜åˆ° localStorage
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('currentUser', JSON.stringify(currentUser));

            document.getElementById('loginModal').classList.remove('visible');

            // ç™»å…¥æˆåŠŸå¾Œï¼Œæ›´æ–°æ‰€æœ‰éœ€è¦æ¬Šé™çš„é é¢ç‹€æ…‹
            updateMenuPageVisibility();
            updateGalleryPageVisibility(); 
            
            // å°å‘å›ç™»å…¥å‰çš„é é¢
            showPage(currentPage);

        } else {
            errorDiv.style.display = 'block';
        }
    }

    // é€€å‡ºç™»éŒ„
    function logout() {
        isLoggedIn = false;
        currentUser = null;
        currentVendorId = null;
        
        // æ¸…é™¤ç™»å…¥ç‹€æ…‹
        localStorage.removeItem('isLoggedIn');
        localStorage.removeItem('currentUser');
        localStorage.removeItem('vendorData_1'); // èˆŠçš„ Excel è³‡æ–™æ¸…é™¤
        localStorage.removeItem('vendorData_2');
        localStorage.removeItem('vendorData_3');
        // æ¸…é™¤ PDF è³‡æ–™
        localStorage.removeItem('vendorPdf_1');
        localStorage.removeItem('vendorPdf_2');
        localStorage.removeItem('vendorPdf_3');


        // ç™»å‡ºå¾Œï¼Œæ›´æ–°æ‰€æœ‰éœ€è¦æ¬Šé™çš„é é¢ç‹€æ…‹
        updateMenuPageVisibility();
        updateGalleryPageVisibility(); 
        
        // ç™»å‡ºå¾Œæ¸…ç©º PDF é è¦½ï¼Œé¿å…éç®¡ç†å“¡çœ‹åˆ°å¿«å–å…§å®¹
        for(let i = 1; i <= 3; i++){
            const uploader = uploaders[i];
            if (uploader && uploader.pdfContainer) {
                 uploader.pdfContainer.style.display = 'none';
                 uploader.pdfViewer.src = '';
            }
        }

        showPage(currentPage);
    }
    
    // åˆå§‹åŒ–ç™»å…¥ç‹€æ…‹
    function initLoginState() {
        const savedLogin = localStorage.getItem('isLoggedIn');
        const savedUser = localStorage.getItem('currentUser');
        
        if (savedLogin === 'true' && savedUser) {
            try {
                 const user = JSON.parse(savedUser);
                 // æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦ä»ç„¶å­˜åœ¨æ–¼å¸³è™Ÿåˆ—è¡¨ä¸­ (å®‰å…¨æ€§æª¢æŸ¥)
                 const matchedUser = vendorAccounts.find(account => account.username === user.username);
                 if (matchedUser) {
                    isLoggedIn = true;
                    currentUser = matchedUser;
                    currentVendorId = matchedUser.id;
                 } else {
                    // å¸³è™Ÿä¸å­˜åœ¨å‰‡æ¸…é™¤ç‹€æ…‹
                    localStorage.removeItem('isLoggedIn');
                    localStorage.removeItem('currentUser');
                 }
            } catch (e) {
                 console.error("Error parsing user data from localStorage", e);
                 localStorage.removeItem('isLoggedIn');
                 localStorage.removeItem('currentUser');
            }
        }
    }


    // èœå–®é é¢ä¸Šå‚³å€å¡Šçš„æ¬Šé™æ§åˆ¶
    function updateUploadAreaVisibility() {
        // åªæœ‰ç¸½ç®¡ç†å“¡(id: 0)æˆ–å°æ‡‰å» å•†(id: 1, 2, 3)æ‰èƒ½æ“ä½œ
        for (let i = 1; i <= 3; i++) {
            const dropArea = document.getElementById(`drop-area-${i}`);
            const inputField = document.getElementById(`file-input-${i}`);
            const vendorId = i;
            
            if (dropArea) {
                if (isLoggedIn && (currentVendorId === 0 || currentVendorId === vendorId)) {
                    // å¦‚æœå·²ç™»å…¥ä¸”æœ‰æ¬Šé™
                    dropArea.classList.remove('disabled');
                    if (inputField) inputField.disabled = false;
                } else {
                    // å¦‚æœæœªç™»å…¥æˆ–ç„¡æ¬Šé™ï¼Œå‰‡æ¨™è¨˜ç‚ºç¦ç”¨ç‹€æ…‹
                    dropArea.classList.add('disabled');
                    if (inputField) inputField.disabled = true;
                }
            }
        }
    }

    // èœå–®é é¢ç™»å…¥è³‡è¨Šé¡¯ç¤º
    function updateMenuPageVisibility() {
        const loginInfo = document.getElementById('loginInfo');
        const logoutBtn = document.getElementById('logoutBtn');
        
        if (isLoggedIn) {
            loginInfo.textContent = `å·²ç™»å…¥ï¼š${currentUser.name}`;
            if (logoutBtn) logoutBtn.style.display = 'inline-block';
        } else {
            loginInfo.textContent = 'æœªç™»éŒ„';
            if (logoutBtn) logoutBtn.style.display = 'none';
        }
        updateUploadAreaVisibility();
    }

    // è™•ç†ä¸Šå‚³å€åŸŸé»æ“Š (æ­¤å‡½æ•¸æ˜¯æ ¸å¿ƒï¼Œç¢ºä¿å…ˆç™»å…¥æ‰èƒ½æ“ä½œ)
    function handleUploadAreaClick(vendorId) {
        // 1. æª¢æŸ¥ç™»éŒ„ç‹€æ…‹
        if (!isLoggedIn) {
            alert('è«‹å…ˆç™»å…¥ç®¡ç†å¸³è™Ÿæ‰èƒ½ä¸Šå‚³èœå–®');
            showLoginModal();
            return;
        }
        
        // 2. æª¢æŸ¥æ¬Šé™ (ç™»å…¥å¾Œï¼Œç¸½ç®¡ç†å“¡æˆ–å°æ‡‰å» å•†æ‰èƒ½ä¸Šå‚³)
        if (currentVendorId !== 0 && currentVendorId !== vendorId) {
            alert('æ‚¨æ²’æœ‰æ¬Šé™ä¸Šå‚³æ­¤å» å•†çš„èœå–®');
            return;
        }
        
        // 3. è§¸ç™¼æ–‡ä»¶é¸æ“‡ï¼ˆå·²ç™»å…¥ä¸”æœ‰æ¬Šé™ï¼‰
        document.getElementById(`file-input-${vendorId}`).click();
    }


    // è¨­å®šä¸Šå‚³åŠŸèƒ½ (åˆå§‹åŒ–æ‹–æ”¾å’Œæª”æ¡ˆé¸æ“‡äº‹ä»¶)
    const uploaders = {};
    function setupUploaders() {
        for (let i = 1; i <= 3; i++) {
            setupUploader(i);
        }
    }

    function setupUploader(index) {
        const uploader = {};
        uploader.dropArea = document.getElementById(`drop-area-${index}`);
        uploader.fileInput = document.getElementById(`file-input-${index}`);
        uploader.statusMessage = document.getElementById(`status-message-${index}`);
        // æ–°çš„ PDF é¡¯ç¤ºå…ƒç´ 
        uploader.pdfContainer = document.getElementById(`pdf-container-${index}`);
        uploader.uploadedFilename = document.getElementById(`uploaded-filename-${index}`);
        uploader.fileDownloadLink = document.getElementById(`file-download-link-${index}`);
        uploader.pdfViewer = document.getElementById(`pdf-viewer-${index}`);


        // è™•ç†æ‹–æ”¾äº‹ä»¶çš„é»˜èªè¡Œç‚º
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            if (uploader.dropArea) {
                uploader.dropArea.addEventListener(eventName, (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                });
            }
        });
        
        // è™•ç†æª”æ¡ˆæ‹–æ”¾ (åŸ·è¡Œä¸Šå‚³å’Œé¡¯ç¤º)
        if (uploader.dropArea) {
            uploader.dropArea.addEventListener('drop', (e) => {
                // å¿…é ˆåœ¨é€™è£¡å†æ¬¡æª¢æŸ¥ç™»å…¥å’Œæ¬Šé™ï¼Œå› ç‚º drag/drop ä¸ç¶“é onclick
                if (!isLoggedIn || (currentVendorId !== 0 && currentVendorId !== index)) {
                    alert('è«‹å…ˆç™»å…¥ä¸¦ç¢ºèªæ‚¨æœ‰æ¬Šé™é€²è¡Œæ­¤æ“ä½œ');
                    showLoginModal();
                    return;
                }
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFile(files[0], index);
                }
            });
        }
        
        // è™•ç†æª”æ¡ˆé¸æ“‡ (åŸ·è¡Œä¸Šå‚³å’Œé¡¯ç¤º)
        if (uploader.fileInput) {
            uploader.fileInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleFile(e.target.files[0], index);
                }
            });
        }

        uploaders[index] = uploader;
    }

    // è™•ç†æª”æ¡ˆè®€å–ä¸¦é¡¯ç¤ºå…§å®¹ (å·²ä¿®æ”¹ç‚º PDF å°ˆç”¨)
    function handleFile(file, index) {
        const uploader = uploaders[index];
        uploader.statusMessage.textContent = `æ­£åœ¨è®€å–æª”æ¡ˆ: ${file.name}...`;
        uploader.pdfContainer.style.display = 'none';

        // æª¢æŸ¥æª”æ¡ˆé¡å‹æ˜¯å¦ç‚º PDF
        if (file.type !== 'application/pdf') {
            uploader.statusMessage.textContent = `éŒ¯èª¤: æª”æ¡ˆé¡å‹å¿…é ˆæ˜¯ PDF (ç•¶å‰é¡å‹ç‚º ${file.type})ã€‚`;
            return;
        }

        const reader = new FileReader();
        reader.onload = function(e) {
            const dataUrl = e.target.result;
            const fileName = file.name;
            
            // å„²å­˜æª”æ¡ˆè³‡è¨Šåˆ° localStorage (Data URL æ–¹å¼ï¼Œé©ç”¨æ–¼å®¢æˆ¶ç«¯æ¼”ç¤º)
            localStorage.setItem(`vendorPdf_${index}`, JSON.stringify({
                name: fileName,
                dataUrl: dataUrl 
            }));

            displayPdfInfo(fileName, dataUrl, index); // é¡¯ç¤º PDF è³‡è¨Š
            uploader.statusMessage.textContent = `æˆåŠŸè®€å–ä¸¦å„²å­˜ PDF èœå–®: ${fileName}`;
            uploader.fileInput.value = ''; // æ¸…ç©º input é¿å…é‡è¤‡è§¸ç™¼
        };

        reader.onerror = function() {
            uploader.statusMessage.textContent = `éŒ¯èª¤: ç„¡æ³•è®€å–æª”æ¡ˆ ${file.name}ã€‚`;
        };

        reader.readAsDataURL(file); // è®€å–ç‚º Data URL
    }
    
    // é¡¯ç¤º PDF è³‡è¨Š (æ–°å‡½æ•¸: é¡¯ç¤ºæª”æ¡ˆåä¸¦åµŒå…¥ IFrame é è¦½)
    function displayPdfInfo(fileName, dataUrl, index) {
        const uploader = uploaders[index];
        uploader.uploadedFilename.textContent = fileName;
        uploader.fileDownloadLink.href = dataUrl;
        uploader.pdfViewer.src = dataUrl; // è¨­å®š IFrame çš„ src ä¾†é¡¯ç¤º PDF å…§å®¹
        uploader.pdfContainer.style.display = 'block'; // é¡¯ç¤ºæ•´å€‹å®¹å™¨
    }


    // è¼‰å…¥å·²å„²å­˜è³‡æ–™ (è¼‰å…¥ PDF æª”æ¡ˆè³‡è¨Š)
    function loadSavedData() {
        for (let i = 1; i <= 3; i++) {
            const uploader = uploaders[i];
            
            // è¼‰å…¥ PDF å„²å­˜æ ¼å¼
            const savedPdfData = localStorage.getItem(`vendorPdf_${i}`); 
            if (savedPdfData && uploader) {
                try {
                    const pdfData = JSON.parse(savedPdfData);
                    if (pdfData && pdfData.name && pdfData.dataUrl) {
                        displayPdfInfo(pdfData.name, pdfData.dataUrl, i);
                        uploader.statusMessage.textContent = `å·²è¼‰å…¥ä¸Šæ¬¡å„²å­˜çš„ PDF æ–‡ä»¶ã€‚`;
                    }
                } catch (e) {
                    console.error("Error loading saved PDF data for vendor", i, e);
                    localStorage.removeItem(`vendorPdf_${i}`);
                }
            }
            
            // æ¸…ç†èˆŠçš„ Excel å„²å­˜æ ¼å¼ (ä¿æŒæ¸…ç†)
            localStorage.removeItem(`vendorData_${i}`);
        }
    }


    // --- æ´»å‹•ç…§ç‰‡å€å¡Šç›¸é—œåŠŸèƒ½ (æœªè®Šå‹•) ---

    function updateGalleryPageVisibility() {
        const prompt = document.getElementById('gallery-login-prompt');
        const loggedInInfo = document.getElementById('gallery-logged-in-info');
        const uploadArea = document.getElementById('photo-upload-area');
        const loginInfoSpan = document.getElementById('gallery-login-info');
        
        if (!prompt || !loggedInInfo || !uploadArea || !loginInfoSpan) return;

        if (isLoggedIn) {
            prompt.style.display = 'none';
            loggedInInfo.style.display = 'flex'; 
            loggedInInfo.style.justifyContent = 'flex-end';
            uploadArea.style.display = 'block';
            loginInfoSpan.textContent = `å·²ç™»å…¥ç‚ºï¼š${currentUser.name}`;
        } else {
            prompt.style.display = 'block';
            loggedInInfo.style.display = 'none';
            uploadArea.style.display = 'none';
        }
    }

    function handlePhotoUpload(fileList) {
        const statusDiv = document.getElementById('photo-upload-status');
        const galleryDiv = document.getElementById('photo-display-area').querySelector('.photo-gallery');
        
        if (!statusDiv || !galleryDiv) return;

        statusDiv.style.display = 'block';
        statusDiv.classList.remove('text-red-600');
        statusDiv.classList.add('text-green-600');
        statusDiv.textContent = `é–‹å§‹ä¸Šå‚³ ${fileList.length} å€‹æª”æ¡ˆ...`;
        
        let uploadedCount = 0;
        let totalFiles = fileList.length;

        Array.from(fileList).forEach(file => {
            if (file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const newItem = document.createElement('div');
                    newItem.className = 'photo-item';
                    
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.alt = `æ–°ä¸Šå‚³ç…§ç‰‡ ${new Date().getTime()}`;
                    
                    newItem.appendChild(img);
                    galleryDiv.prepend(newItem); 
                    uploadedCount++;
                    
                    if (uploadedCount === totalFiles) {
                        statusDiv.textContent = `æˆåŠŸä¸Šå‚³ ${uploadedCount} å¼µç…§ç‰‡ï¼é é¢å·²æ›´æ–°ã€‚`;
                        setTimeout(() => {
                            statusDiv.style.display = 'none';
                        }, 10000);
                    }
                }
                reader.readAsDataURL(file);
            } else {
                statusDiv.classList.remove('text-green-600');
                statusDiv.classList.add('text-red-600');
                statusDiv.textContent = `éŒ¯èª¤: ${file.name} ä¸æ˜¯åœ–ç‰‡æª”æ¡ˆã€‚`;
            }
        });
    }

    function setupPhotoUploader() {
        const dropArea = document.getElementById('photo-drop-area');
        const fileInput = document.getElementById('photo-file-input');

        if (!dropArea || !fileInput) return;

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, (e) => {
                e.preventDefault();
                e.stopPropagation();
            });
        });

        dropArea.addEventListener('dragenter', () => { 
            if (isLoggedIn) dropArea.style.borderColor = 'var(--primary-pink)'; 
        });
        dropArea.addEventListener('dragleave', () => { 
            if (isLoggedIn) dropArea.style.borderColor = 'var(--light-blue)'; 
        });
        dropArea.addEventListener('drop', () => { 
            if (isLoggedIn) dropArea.style.borderColor = 'var(--light-blue)'; 
        });


        dropArea.addEventListener('drop', (e) => {
            if (!isLoggedIn) {
                alert('è«‹å…ˆç™»å…¥ç®¡ç†å¸³è™Ÿæ‰èƒ½ä¸Šå‚³ç…§ç‰‡');
                showLoginModal();
                return;
            }
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handlePhotoUpload(files);
            }
        });

        fileInput.addEventListener('change', (e) => {
            if (!isLoggedIn) {
                return;
            }
            if (e.target.files.length > 0) {
                handlePhotoUpload(e.target.files);
            }
        });
    }
</script>

 <footer style="text-align: center; padding: 20px; margin-top: 30px; border-top: 1px solid #eee;">
  Â© 2025 å¤§é“åœ‹ä¸­åˆé¤è³‡è¨Šç¶² ç‰ˆæ¬Šæ‰€æœ‰         æ ¡å€ï¼š43252/432311 è‡ºä¸­å¸‚å¤§è‚šå€å¤§æ±é‡Œä»å¾·è·¯60è™Ÿ              é›»è©±ï¼š04-26992028
 </footer>

</body>
</html>
